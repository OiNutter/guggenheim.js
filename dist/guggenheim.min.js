var guggenheim=function(a,b){function y(a){return a.toLowerCase()}function z(a){return m?m+a:y(a)}function A(a){if(typeof a!="object")return[];var b=[],c;for(c in a)b.push(c);return b}function B(a){if(typeof a!="object")return[];var b=[],c;for(c in a)b.push(a[c]);return b}function C(a,b){var c,d;for(c in b)if(B(a[c]).length>0&&B(b[c]).length>0)for(d in b[c])a[c][d]=b[c][d];else a[c]=b[c];return a}function D(a){var b=window.getComputedStyle?window.getComputedStyle(a,null):a.currentStyle;return{height:parseFloat(b.height)+(parseFloat(b.paddingTop)||0)+(parseFloat(b.paddingBottom)||0)+(parseFloat(b.borderTopWidth)||0)+(parseFloat(b.borderBottomWidth)||0),width:parseFloat(b.width)+(parseFloat(b.paddingLeft)||0)+(parseFloat(b.paddingRight)||0)+(parseFloat(b.borderLeftWidth)||0)+(parseFloat(b.borderRightWidth)||0),margin:{top:parseFloat(b.marginTop)||0,right:parseFloat(b.marginRight)||0,bottom:parseFloat(b.marginBottom)||0,left:parseFloat(b.marginLeft)||0},padding:{top:parseFloat(b.paddingTop)||0,right:parseFloat(b.paddingRight)||0,bottom:parseFloat(b.paddingBottom)||0,left:parseFloat(b.paddingLeft)||0}}}function E(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(b,c)}function F(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent(b,c)}function G(a,b,c){return parseFloat(a+(b-a)*c).toFixed(3)}function H(a,b,c){return a.substr(b,c||1)}function I(a,b,c){var d=2,e,f,g,h=[],i=[];while(e=3,f=arguments[d-1],d--)if(H(f,0)=="r"){f=f.match(/\d+/g);while(e--)h.push(~~f[e])}else{f.length==4&&(f="#"+H(f,1)+H(f,1)+H(f,2)+H(f,2)+H(f,3)+H(f,3));while(e--)h.push(parseInt(H(f,1+e*2,2),16))}while(e--)g=~~(h[e+3]+(h[e]-h[e+3])*c),i.push(g<0?0:g>255?255:g);return"rgb("+i.join(",")+")"}function J(a){var b=parseFloat(a),c=a.replace(/^[\-\d\.]+/,"");return isNaN(b)?{v:c,f:I,u:""}:{v:b,f:G,u:c}}function K(a,b,c){var d=[],e,f=(new Date).getTime(),g=o.duration*1e3,h=f+g,i=a.currentStyle?a.currentStyle:getComputedStyle(a,null),k={},m,n={},p,q,r,s;if(l!=""){for(e in b)d.push(e);a.style.setProperty(l+"transition-property",d.join(", "),""),a.style.setProperty(l+"transition-duration",o.duration+"s",""),a.style.setProperty(l+"transition-timing-function",o.easing,""),o.duration>0&&E(a,z("TransitionEnd"),c);for(e in b)a.style[e]=b[e]}else{for(p in b)n[p]=J(b[p]);for(p in b)k[p]=J(p==="opacity"?x(i):i[p]);m=setInterval(function(){q=(new Date).getTime(),r=q>h?1:(q-f)/g;for(p in n)s=n[p].f(k[p].v,n[p].v,j[o.easing](r))+n[p].u,p==="opacity"?w(a,s):a.style[p]=s;q>h&&(clearInterval(m),c!==undefined&&c.call())},10)}}function Q(){var a,b=0,c=0,d=D(n);for(a=0;a<q.length;a++)S=D(q[a]),S.width>b&&(b=S.width-S.padding.left-S.padding.right),S.height>c&&(c=S.height-S.padding.top-S.padding.bottom);b>d.width/o.cols&&(b=Math.floor(d.width/o.cols)),c>d.height/o.rows&&(c=Math.floor(d.height/o.rows));for(a=0;a<q.length;a++)q[a].style.position="absolute",q[a].style.width=b+"px",q[a].style.height=c+"px",q[a].style.left="0px",q[a].style.top="0px",t?q[a].style.opacity=1:q[a].style.filter="alpha(opacity=100)"}var c,d,e={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},f=window.document,g=f.createElement("div"),h=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,i={},j={ease:function(a){return-Math.cos(a*Math.PI)/2+.5},linear:function(a){return a}},k=!1,l="",m="",n,o,p,q,r=[],s=[],t=typeof g.style.opacity=="string",u=typeof g.style.filter=="string",v=/alpha\(opacity=([^\)]+)\)/,w=function(){},x=function(){return"1"};t?(w=function(a,b){a.style.opacity=parseFloat(b)},x=function(a){return a.opacity}):u&&(w=function(a,b){var c=a.style;b=parseFloat(b),v.test(c.filter)?(b=b>=.9999?"":"alpha(opacity="+b*100+")",c.filter=c.filter.replace(v,b)):c.filter+=" alpha(opacity="+b*100+")"},x=function(a){var b=a.filter.match(v);return(b?b[1]/100:1)+""});var L=function(){if(k)return!1;k=!0;var a=D(n),b=D(q[0]),c=Math.ceil(r.length/(o.rows*o.cols)),d=c*a.width;parseFloat(p.style.left)!=a.padding.left?K(p,{left:parseFloat(p.offsetLeft)+a.width-a.padding.left+"px"},function(){k=!1}):k=!1},M=function(){if(k)return!1;k=!0;var a=D(n),b=D(q[0]),c=Math.ceil(r.length/(o.rows*o.cols)),d=c*a.width;parseFloat(p.style.left)>-(d-a.width-a.padding.left-a.padding.right)?K(p,{left:parseFloat(p.offsetLeft)-a.width-a.padding.left+"px"},function(){k=!1}):k=!1},N=function(a){var b=0,c=0,d,e,f=D(q[0]),g=D(n),h=0,i,j={},k;if(typeof a=="string"||Array.isArray(a))typeof a=="string"&&(a=[a]),k="(?=.*\\b"+a.join("\\b)(?=.*\\b")+"\\b)",a=function(a){return(new RegExp(k)).test(a.className)};r=[],K(p,{left:g.padding.left+"px"});for(i=0;i<s.length;i++)a(s[i])?(r.push(s[i]),d=(f.height+f.margin.bottom)*b+f.margin.top,e=(f.width+f.margin.right)*c+g.width*h+f.margin.left,j={top:d+"px",left:e+"px",opacity:"1"},c++,c==o.cols&&(c=0,b++,b==o.rows&&(b=0,h++))):j={opacity:"0"},K(s[i],j);return r},O=function(a){var b=0,c=0,d,e,f=D(q[0]),g=D(n),h=0,i,j={},k;s=[];for(i=0;i<a.length;i++)k=typeof a[i]=="string"?n.querySelector(a[i]):a[i],s.push(k),r.indexOf(k)!=-1&&(d=(f.height+f.margin.bottom)*b+f.margin.top,e=(f.width+f.margin.right)*c+g.width*h+f.margin.left,j={top:d+"px",left:e+"px",opacity:"1"},K(k,j),c++,c==o.cols&&(c=0,b++,b==o.rows&&(b=0,h++)));return s},P=function(){var a=[],b;r=s=[];for(b=0;b<q.length;b++)r.push(q[b]),a.push(q[b]);s=r,O(a)};if(typeof a=="string"&&f.querySelector(a)==null)throw"Element "+a+" does not exist!";n=typeof a=="string"?f.querySelector(a):a,o=C({selector:"div.guggenheim-item",rows:"auto",cols:"auto",duration:.5,easing:"ease",slider:"div.guggenheim-slider",width:null,height:null},b),n.style.overflow="hidden",n.style.position==""&&(n.style.position="relative"),o.width!=null&&(n.style.width=o.width+"px"),o.height!=null&&(n.style.height=o.height+"px"),q=n.querySelectorAll(o.selector);if(!q.length)throw"Gallery is empty";Q();var R=D(n),S,T,U,V,p,W,X=B(e),Y=A(e);return o.cols=="auto"&&(S=D(q[0]),T=S.width+S.margin.left+S.margin.right,o.cols=Math.floor(R.width/T)),o.rows=="auto"&&(S=D(q[0]),U=S.height+S.margin.top+S.margin.bottom,o.rows=Math.floor(R.height/U)),p=n.querySelector(o.slider),p.style.left=R.padding.left+"px",p.style.position="relative",function(){for(var a=0;a<Y.length;a++)if(g.style[Y[a]+"TransitionProperty"]!==undefined)return l="-"+y(Y[a])+"-",m=X[a],!1}(),i[l+"transition-property"]=i[l+"transition-duration"]=i[l+"transition-timing-function"]=i[l+"animation-name"]=i[l+"animation-duration"]="",P(),{reset:P,order:O,filter:N,prev:L,next:M}};Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)=="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(this==null)throw new TypeError;var b=Object(this),c=b.length>>>0,d,e;if(c===0)return-1;d=0,arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:d!=0&&d!=Infinity&&d!=-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;e=d>=0?d:Math.max(c-Math.abs(d),0);for(;e<c;e++)if(e in b&&b[e]===a)return e;return-1})